{% extends "base.html" %} 
{% load crispy_forms_tags %}

{% block title %} 
{{event.title}} 
{% endblock title %} 

{% block content %}

<div class="container pt-4">
  <div class="container d-flex pt-4">

    
    <div class="container me-5" style="background-color: #f7f7f7; overflow: scroll; height: 50vh;">
      <h1>My events list</h1>
      {% for event in events %}
      <div class="container mb-5 pb-3" style="background-color: #fff;">
        {{event.id}}
        <!-- <img class="" src="{{event.image.url}}" alt="Card image cap" style="height: 30px; width: 60px;"/> -->
        <h5 class="">{{event.title}}</h5>
        <p class="">
          Some quick example text to build on the card title and make up the
          bulk of the card's content.
        </p>
        <p>{{event.remaining}}</p>
        <p>{{event.organizer}}</p>
        {% if request.user.is_authenticated %}
        <a
        href="{% url 'event_details' event_id=event.id %}"
        class="btn btn-primary"
        >Details</a
        >
        {% endif %}
      </div>
      {% endfor %}
    </div>
    <!-- <div class="container">
      <button class="btn btn-primary"><a href="{% url 'add_event' %}" style="text-decoration: none; color: #fff;">Create event</a></button>
    </div> -->
    <div class="container" style="background-color: #f7f7f7; height: 50vh;">
      <h1>Add event</h1>
      <form action="{% url 'add_event' %}" method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          {{ form|crispy }}
          <button class="btn btn-primary" type="submit" style="margin-top: 5px; ">ADD Event</button>
      </form>
    </div>
  </div>
  <div class="container mt-5" style="height: 30vh; background-color: #f7f7f7;">
    <h1>Following</h1>
    {{x}} <br>
    {{y}}<br>
    {% for obj in y %}
      {{obj.title}}
    {% endfor %}
    
  </div>
</div>

{% endblock content %}
